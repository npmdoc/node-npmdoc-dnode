<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/substack/dnode#readme"

    >dnode (v1.2.2)</a>
</h1>
<h4>freestyle rpc</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.dnode">module dnode</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dnode.dnode">
            function <span class="apidocSignatureSpan"></span>dnode
            <span class="apidocSignatureSpan">(cons, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dnode.connect">
            function <span class="apidocSignatureSpan">dnode.</span>connect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dnode.listen">
            function <span class="apidocSignatureSpan">dnode.</span>listen
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">dnode.</span>dnode.prototype</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.dnode.dnode">module dnode.dnode</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dnode.dnode.dnode">
            function <span class="apidocSignatureSpan">dnode.</span>dnode
            <span class="apidocSignatureSpan">(cons, opts)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.dnode.dnode.prototype">module dnode.dnode.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dnode.dnode.prototype._createProto">
            function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>_createProto
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dnode.dnode.prototype.addListener">
            function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>addListener
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dnode.dnode.prototype.destroy">
            function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>destroy
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dnode.dnode.prototype.emit">
            function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>emit
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dnode.dnode.prototype.end">
            function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>end
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dnode.dnode.prototype.eventNames">
            function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>eventNames
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dnode.dnode.prototype.getMaxListeners">
            function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>getMaxListeners
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dnode.dnode.prototype.handle">
            function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>handle
            <span class="apidocSignatureSpan">(row)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dnode.dnode.prototype.listen">
            function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>listen
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dnode.dnode.prototype.listenerCount">
            function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>listenerCount
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dnode.dnode.prototype.listeners">
            function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>listeners
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dnode.dnode.prototype.on">
            function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>on
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dnode.dnode.prototype.once">
            function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>once
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dnode.dnode.prototype.pipe">
            function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>pipe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dnode.dnode.prototype.prependListener">
            function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>prependListener
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dnode.dnode.prototype.prependOnceListener">
            function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>prependOnceListener
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dnode.dnode.prototype.removeAllListeners">
            function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>removeAllListeners
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dnode.dnode.prototype.removeListener">
            function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>removeListener
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dnode.dnode.prototype.setMaxListeners">
            function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>setMaxListeners
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dnode.dnode.prototype.write">
            function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>write
            <span class="apidocSignatureSpan">(buf)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">undefined <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>domain</span>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.dnode" id="apidoc.module.dnode">module dnode</a></h1>


    <h2>
        <a href="#apidoc.element.dnode.dnode" id="apidoc.element.dnode.dnode">
        function <span class="apidocSignatureSpan"></span>dnode
        <span class="apidocSignatureSpan">(cons, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function dnode(cons, opts) {
    Stream.call(this);
    var self = this;

    self.opts = opts || {};

    self.cons = typeof cons === &#x27;function&#x27;
        ? cons
        : function () { return cons || {} }
    ;

    self.readable = true;
    self.writable = true;

    process.nextTick(function () {
        if (self._ended) return;
        self.proto = self._createProto();
        self.proto.start();

        if (!self._handleQueue) return;
        for (var i = 0; i &#x3c; self._handleQueue.length; i++) {
            self.handle(self._handleQueue[i]);
        }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dnode.connect" id="apidoc.element.dnode.connect">
        function <span class="apidocSignatureSpan">dnode.</span>connect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function () {
    var d = new D();
    return d.connect.apply(d, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

D.prototype.connect = function () {
var self = this;
var params = parseArgs(arguments);

var stream;
if (params.path) {
    stream = net.<span class="apidocCodeKeywordSpan">connect</span>(params.path);
}
else if (params.port) {
    stream = net.connect(params.port, params.host);
}
else {
    throw new Error(&#x27;no port or unix path given&#x27;);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dnode.listen" id="apidoc.element.dnode.listen">
        function <span class="apidocSignatureSpan">dnode.</span>listen
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listen = function () {
    var d = new D();
    return d.listen.apply(d, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    stream.pipe(d);
    d.pipe(stream);
});

server.sessions = {};

if (typeof params.port === &#x27;number&#x27; &#x26;&#x26; params.port &#x3e;= 0) {
    server.<span class="apidocCodeKeywordSpan">listen</span>(params.port, params.host);
}
else if (params.path) {
    server.listen(params.path);
}
else {
    throw new Error(&#x27;no port or path provided&#x27;);
}
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.dnode.dnode" id="apidoc.module.dnode.dnode">module dnode.dnode</a></h1>


    <h2>
        <a href="#apidoc.element.dnode.dnode.dnode" id="apidoc.element.dnode.dnode.dnode">
        function <span class="apidocSignatureSpan">dnode.</span>dnode
        <span class="apidocSignatureSpan">(cons, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function dnode(cons, opts) {
    Stream.call(this);
    var self = this;

    self.opts = opts || {};

    self.cons = typeof cons === &#x27;function&#x27;
        ? cons
        : function () { return cons || {} }
    ;

    self.readable = true;
    self.writable = true;

    process.nextTick(function () {
        if (self._ended) return;
        self.proto = self._createProto();
        self.proto.start();

        if (!self._handleQueue) return;
        for (var i = 0; i &#x3c; self._handleQueue.length; i++) {
            self.handle(self._handleQueue[i]);
        }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.dnode.dnode.prototype" id="apidoc.module.dnode.dnode.prototype">module dnode.dnode.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.dnode.dnode.prototype._createProto" id="apidoc.element.dnode.dnode.prototype._createProto">
        function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>_createProto
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_createProto = function () {
    var self = this;
    var proto = protocol(function (remote) {
        if (self._ended) return;

        var ref = self.cons.call(this, remote, self);
        if (typeof ref !== &#x27;object&#x27;) ref = this;

        self.emit(&#x27;local&#x27;, ref, self);

        return ref;
    }, self.opts.proto);

    proto.on(&#x27;remote&#x27;, function (remote) {
        self.emit(&#x27;remote&#x27;, remote, self);
        self.emit(&#x27;ready&#x27;); // backwards compatability, deprecated
    });

    proto.on(&#x27;request&#x27;, function (req) {
        if (!self.readable) return;

        if (self.opts.emit === &#x27;object&#x27;) {
            self.emit(&#x27;data&#x27;, req);
        }
        else self.emit(&#x27;data&#x27;, json.stringify(req) + &#x27;\n&#x27;);
    });

    proto.on(&#x27;fail&#x27;, function (err) {
        // errors that the remote end was responsible for
        self.emit(&#x27;fail&#x27;, err);
    });

    proto.on(&#x27;error&#x27;, function (err) {
        // errors that the local code was responsible for
        self.emit(&#x27;error&#x27;, err);
    });

    return proto;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
;

self.readable = true;
self.writable = true;

process.nextTick(function () {
    if (self._ended) return;
    self.proto = self.<span class="apidocCodeKeywordSpan">_createProto</span>();
    self.proto.start();

    if (!self._handleQueue) return;
    for (var i = 0; i &#x3c; self._handleQueue.length; i++) {
        self.handle(self._handleQueue[i]);
    }
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dnode.dnode.prototype.addListener" id="apidoc.element.dnode.dnode.prototype.addListener">
        function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>addListener
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addListener = function () {
    return;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dnode.dnode.prototype.destroy" id="apidoc.element.dnode.dnode.prototype.destroy">
        function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>destroy
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function () {
    this.end();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dnode.dnode.prototype.emit" id="apidoc.element.dnode.dnode.prototype.emit">
        function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>emit
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emit = function () {
    return;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    throw new Error(&#x27;no port or unix path given&#x27;);
}

if (params.block) self.on(&#x27;remote&#x27;, params.block);

stream.on(&#x27;error&#x27;, function (err) {
    if (err &#x26;&#x26; err.code === &#x27;EPIPE&#x27;) return; // eat EPIPEs
    self.<span class="apidocCodeKeywordSpan">emit</span>(&#x27;error&#x27;, err);
});

self.id = randomId();
self.stream = stream;
stream.pipe(self);
self.pipe(stream);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dnode.dnode.prototype.end" id="apidoc.element.dnode.dnode.prototype.end">
        function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>end
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">end = function () {
    if (this._ended) return;
    this._ended = true;
    this.writable = false;
    this.readable = false;
    this.emit(&#x27;end&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

dnode.prototype.listen = function () {
var self = this;

// just copy over the opts and cons, the rest will need to be re-created
var cons = self.cons, opts = self.opts;
self.cons = function () {};
self.<span class="apidocCodeKeywordSpan">end</span>();

var params = parseArgs(arguments);

var server = net.createServer(function (stream) {
    var d = new dnode(cons, opts);
    do { d.id = randomId() }
    while (server.sessions[d.id]);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dnode.dnode.prototype.eventNames" id="apidoc.element.dnode.dnode.prototype.eventNames">
        function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>eventNames
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">eventNames = function () {
    return;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dnode.dnode.prototype.getMaxListeners" id="apidoc.element.dnode.dnode.prototype.getMaxListeners">
        function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>getMaxListeners
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getMaxListeners = function () {
    return;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dnode.dnode.prototype.handle" id="apidoc.element.dnode.dnode.prototype.handle">
        function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>handle
        <span class="apidocSignatureSpan">(row)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">handle = function (row) {
    if (!this.proto) {
        if (!this._handleQueue) this._handleQueue = [];
        this._handleQueue.push(row);
    }
    else this.proto.handle(row);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
process.nextTick(function () {
    if (self._ended) return;
    self.proto = self._createProto();
    self.proto.start();

    if (!self._handleQueue) return;
    for (var i = 0; i &#x3c; self._handleQueue.length; i++) {
        self.<span class="apidocCodeKeywordSpan">handle</span>(self._handleQueue[i]);
    }
});
}

dnode.prototype._createProto = function () {
var self = this;
var proto = protocol(function (remote) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dnode.dnode.prototype.listen" id="apidoc.element.dnode.dnode.prototype.listen">
        function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>listen
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listen = function () {
    var self = this;

    // just copy over the opts and cons, the rest will need to be re-created
    var cons = self.cons, opts = self.opts;
    self.cons = function () {};
    self.end();

    var params = parseArgs(arguments);

    var server = net.createServer(function (stream) {
        var d = new dnode(cons, opts);
        do { d.id = randomId() }
        while (server.sessions[d.id]);

        server.sessions[d.id] = d;
        d.on(&#x27;end&#x27;, function () {
            delete server.sessions[d.id];
        });

        d.on(&#x27;local&#x27;, function (ref) {
            server.emit(&#x27;local&#x27;, ref, d);
        });

        d.on(&#x27;remote&#x27;, function (remote) {
            server.emit(&#x27;remote&#x27;, remote, d);
        });

        stream.on(&#x27;error&#x27;, function (err) {
            if (err &#x26;&#x26; err.code === &#x27;EPIPE&#x27;) return; // eat EPIPEs
            d.emit(&#x27;error&#x27;, err);
        });

        d.stream = stream;
        stream.pipe(d);
        d.pipe(stream);
    });

    server.sessions = {};

    if (typeof params.port === &#x27;number&#x27; &#x26;&#x26; params.port &#x3e;= 0) {
        server.listen(params.port, params.host);
    }
    else if (params.path) {
        server.listen(params.path);
    }
    else {
        throw new Error(&#x27;no port or path provided&#x27;);
    }

    if (params.block) server.on(&#x27;listening&#x27;, params.block);

    return server;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    stream.pipe(d);
    d.pipe(stream);
});

server.sessions = {};

if (typeof params.port === &#x27;number&#x27; &#x26;&#x26; params.port &#x3e;= 0) {
    server.<span class="apidocCodeKeywordSpan">listen</span>(params.port, params.host);
}
else if (params.path) {
    server.listen(params.path);
}
else {
    throw new Error(&#x27;no port or path provided&#x27;);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dnode.dnode.prototype.listenerCount" id="apidoc.element.dnode.dnode.prototype.listenerCount">
        function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>listenerCount
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listenerCount = function () {
    return;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dnode.dnode.prototype.listeners" id="apidoc.element.dnode.dnode.prototype.listeners">
        function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>listeners
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listeners = function () {
    return;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dnode.dnode.prototype.on" id="apidoc.element.dnode.dnode.prototype.on">
        function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>on
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on = function () {
    return;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
else if (params.port) {
    stream = net.connect(params.port, params.host);
}
else {
    throw new Error(&#x27;no port or unix path given&#x27;);
}

if (params.block) self.<span class="apidocCodeKeywordSpan">on</span>(&#x27;remote&#x27;, params.block);

stream.on(&#x27;error&#x27;, function (err) {
    if (err &#x26;&#x26; err.code === &#x27;EPIPE&#x27;) return; // eat EPIPEs
    self.emit(&#x27;error&#x27;, err);
});

self.id = randomId();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dnode.dnode.prototype.once" id="apidoc.element.dnode.dnode.prototype.once">
        function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>once
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">once = function () {
    return;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dnode.dnode.prototype.pipe" id="apidoc.element.dnode.dnode.prototype.pipe">
        function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>pipe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pipe = function () {
    return;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
stream.on(&#x27;error&#x27;, function (err) {
    if (err &#x26;&#x26; err.code === &#x27;EPIPE&#x27;) return; // eat EPIPEs
    self.emit(&#x27;error&#x27;, err);
});

self.id = randomId();
self.stream = stream;
stream.<span class="apidocCodeKeywordSpan">pipe</span>(self);
self.pipe(stream);

return self;
};

dnode.prototype.listen = function () {
var self = this;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dnode.dnode.prototype.prependListener" id="apidoc.element.dnode.dnode.prototype.prependListener">
        function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>prependListener
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prependListener = function () {
    return;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dnode.dnode.prototype.prependOnceListener" id="apidoc.element.dnode.dnode.prototype.prependOnceListener">
        function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>prependOnceListener
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prependOnceListener = function () {
    return;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dnode.dnode.prototype.removeAllListeners" id="apidoc.element.dnode.dnode.prototype.removeAllListeners">
        function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>removeAllListeners
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeAllListeners = function () {
    return;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dnode.dnode.prototype.removeListener" id="apidoc.element.dnode.dnode.prototype.removeListener">
        function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>removeListener
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeListener = function () {
    return;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var server = function () {
    return dnode(function (client, conn) {
        conn.on(&#x27;ready&#x27;, function () {
            em.on(&#x27;message&#x27;, client.message);
        });

        conn.on(&#x27;end&#x27;, function () {
            em.<span class="apidocCodeKeywordSpan">removeListener</span>(&#x27;message&#x27;, client.message);
        });

        this.message = function (msg) {
            em.emit(&#x27;message&#x27;, client.name + &#x27; says: &#x27; + msg);
        };
    });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dnode.dnode.prototype.setMaxListeners" id="apidoc.element.dnode.dnode.prototype.setMaxListeners">
        function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>setMaxListeners
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setMaxListeners = function () {
    return;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dnode.dnode.prototype.write" id="apidoc.element.dnode.dnode.prototype.write">
        function <span class="apidocSignatureSpan">dnode.dnode.prototype.</span>write
        <span class="apidocSignatureSpan">(buf)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">write = function (buf) {
    if (this._ended) return;
    var self = this;
    var row;

    if (buf &#x26;&#x26; typeof buf === &#x27;object&#x27;
    &#x26;&#x26; buf.constructor &#x26;&#x26; buf.constructor.name === &#x27;Buffer&#x27;
    &#x26;&#x26; buf.length
    &#x26;&#x26; typeof buf.slice === &#x27;function&#x27;) {
        // treat like a buffer
        if (!self._bufs) self._bufs = [];

        // treat like a buffer
        for (var i = 0, j = 0; i &#x3c; buf.length; i++) {
            if (buf[i] === 0x0a) {
                self._bufs.push(buf.slice(j, i));

                var line = &#x27;&#x27;;
                for (var k = 0; k &#x3c; self._bufs.length; k++) {
                    line += String(self._bufs[k]);
                }

                try { row = json.parse(line) }
                catch (err) { return self.end() }

                j = i + 1;

                self.handle(row);
                self._bufs = [];
            }
        }

        if (j &#x3c; buf.length) self._bufs.push(buf.slice(j, buf.length));
    }
    else if (buf &#x26;&#x26; typeof buf === &#x27;object&#x27;) {
        // .isBuffer() without the Buffer
        // Use self to pipe JSONStream.parse() streams.
        self.handle(buf);
    }
    else {
        if (typeof buf !== &#x27;string&#x27;) buf = String(buf);
        if (!self._line) self._line = &#x27;&#x27;;

        for (var i = 0; i &#x3c; buf.length; i++) {
            if (buf.charCodeAt(i) === 0x0a) {
                try { row = json.parse(self._line) }
                catch (err) { return self.end() }

                self._line = &#x27;&#x27;;
                self.handle(row);
            }
            else self._line += buf.charAt(i)
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
